<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="GitSAM">
<meta name="dcterms.date" content="2025-03-08">

<title>Pricing the seemingly Equal Opportunities under Structural Inequality – GitSAM</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-ddd961a2510921635943dfbbd19534c4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">GitSAM</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../../projects/gilded_age/gilded_age.html">
 <span class="dropdown-text">The New Gilded Age</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/pricing_equal/pricing_equal.html">
 <span class="dropdown-text">Pricing Equal Opportunity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/dichotomy/dichotomy.html">
 <span class="dropdown-text">Distinct Dichotomy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/pareto_index/pareto_index.html">
 <span class="dropdown-text">Estimating Pareto Index</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/corner_solution/corner_solution.html">
 <span class="dropdown-text">Heading to Corner Solutions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/asset_puzzle/asset_puzzle.html">
 <span class="dropdown-text">Asset Premium Puzzles</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/tfp.html">
 <span class="dropdown-text">Structural Change</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">한글</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-">    
        <li>
    <a class="dropdown-item" href="../../projects/correlation_crypto/correlation_crypto.html">
 <span class="dropdown-text">암호화폐들의 상관관계</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../time-series/yield_curve.html">
 <span class="dropdown-text">채권투자와 금리</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../time-series/labor_decoupling.html">
 <span class="dropdown-text">노동 기여와 분배</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../time-series/indicator_growth.html">
 <span class="dropdown-text">경제성장 지표</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://www.gitsam.com" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house"></i></a>
    <a href="https://www.youtube.com/@primenumbersam" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-youtube"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/primenumbersam/primenumbersam.github.io">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="mailto:primenumbersam@gmail.com">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link active" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#main" id="toc-main" class="nav-link" data-scroll-target="#main">Main</a>
  <ul class="collapse">
  <li><a href="#model-scenario" id="toc-model-scenario" class="nav-link" data-scroll-target="#model-scenario">Model Scenario</a></li>
  <li><a href="#emm-based-call-option-valuation-theory" id="toc-emm-based-call-option-valuation-theory" class="nav-link" data-scroll-target="#emm-based-call-option-valuation-theory">EMM-based Call Option Valuation Theory</a></li>
  <li><a href="#empirical-analysis" id="toc-empirical-analysis" class="nav-link" data-scroll-target="#empirical-analysis">Empirical Analysis</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  </ul></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#literature-review" id="toc-literature-review" class="nav-link" data-scroll-target="#literature-review">Literature Review</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Pricing the seemingly Equal Opportunities under Structural Inequality</h1>
<p class="subtitle lead">An EMM-based Asset Pricing Approach</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>GitSAM </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 8, 2025</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    This study examines the valuation of seemingly equal opportunities that, due to structural societal inequalities, hold different absolute values for distinct social classes. By applying the Equivalent Martingale Measure (EMM) approach within the framework of rational asset pricing theory, we analyze how capital constraints and limits to arbitrage perpetuate inefficiencies in opportunity valuation between the proletariat and capitalist classes.
  </div>
</div>


</header>


<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>By applying the EMM-based asset pricing approach, this study quantifies the impact of structural inequalities on the valuation of ostensibly equal opportunities. The results emphasize the importance of considering underlying economic disparities when evaluating the fairness and effectiveness of qualification standards in society.</p>
</section>
<section id="main" class="level2">
<h2 class="anchored" data-anchor-id="main">Main</h2>
<section id="model-scenario" class="level3">
<h3 class="anchored" data-anchor-id="model-scenario">Model Scenario</h3>
<p>In short, we consider a society divided into two distinct classes:</p>
<ul>
<li><strong>Proletariat (P)</strong>: Individuals with access to general opportunities.</li>
<li><strong>Capitalist (C)</strong>: Individuals with access to both general and exclusive special opportunities.</li>
</ul>
<p>Internally, both classes operate within perfectly competitive markets that adhere to the no-arbitrage principle. However, due to capital constraints, members of the P class cannot access the special opportunities available to the C class, rendering these opportunities unattainable. Consequently, while the absolute value of special opportunities is equal to or greater than that of general opportunities, the P class cannot exploit potential arbitrage opportunities due to these constraints. Both classes have offspring who inherit the economic outcomes of their parents’ investments. To claim these inherited assets, all offspring must meet a minimum qualification standard (e.g., educational credentials), analogous to the strike price (<span class="math inline">\(K\)</span>) in option pricing. Until this qualification is met, the offspring hold a call option on their parents’ assets.</p>
<p>In detail, consider two distinct social classes: the proletariat (P), representing working-class individuals, and the capitalist class (C), representing wealthy individuals. These two classes face fundamentally different opportunity sets due to deep-seated structural inequalities. Such societal barriers, from both democratic and utilitarian viewpoints, constitute a significant social inefficiency.</p>
<p>To analyze the structural origins of this inefficiency, we apply the concept of <strong>Limits to Arbitrage Theory</strong>, which suggests markets are not always fully efficient. This inefficiency arises because of various constraints, such as behavioral biases, risk constraints, and notably, capital constraints. Capital constraints imply that significant capital is required to engage in arbitrage, effectively isolating classes economically. We assume, therefore, that the proletariat and capitalist classes are economically segregated due to these capital constraints.</p>
<p>Within each class, economic opportunities exist in a perfectly competitive market, satisfying the no-arbitrage condition internally. Members of the proletariat (P) freely select from a common set of general opportunities available to them. Conversely, members of the capitalist class (C) not only share these general opportunities but also exclusively access additional “special opportunities.” From the viewpoint of proletariat class members, these special opportunities represent unattainable benefits (“grapes beyond reach”), carrying higher or equal absolute value compared to general opportunities.</p>
<p>Theoretically, if members of the capitalist class could short-sell general opportunities and simultaneously long-position special opportunities, they could realize arbitrage profits. However, due to aforementioned capital constraints (“limits to arbitrage”), such arbitrage trading is practically impossible within this model.</p>
<p>Both classes have offspring who inherit the economic results (absolute asset values) of their parents’ investment choices. To claim these inherited assets, children from both classes must meet identical minimum qualification standards (e.g., university diplomas, basic educational credentials). Although the qualification standard is identical for both, outcomes differ significantly due to inherited assets. For instance, a business administration graduate from the capitalist class inherits and manages substantial capital (businesses), while an identically qualified individual from the proletariat class works as an employee, earning wages in capitalist-owned enterprises.</p>
<p>The minimum qualification standard can be understood as a fixed barrier or strike price (K) of a <strong>call option</strong>. Until the qualification requirement is fulfilled, the children effectively hold call options on their parents’ assets. This model aims to quantify the absolute value of these call options for each class, reflecting the inherited economic outcomes accessible to the offspring.</p>
</section>
<section id="emm-based-call-option-valuation-theory" class="level3">
<h3 class="anchored" data-anchor-id="emm-based-call-option-valuation-theory">EMM-based Call Option Valuation Theory</h3>
<p>Assume a simple 1 period setting with only two possible states (e.g.&nbsp;good or bad). Under the Equivalent Martingale Measure (EMM), the fair market value of a call option at time 0, denoted as <span class="math inline">\(\hat{f}_0\)</span>, must satisfy:</p>
<p><span class="math display">\[\hat{f_0}\cdot R = E^q[f_1]\]</span> where <span class="math inline">\(f_1=max(S_0 \cdot U-K,0)\)</span></p>
<p><span class="math display">\[S_0\cdot R=E^q[S_1]\]</span> where <span class="math inline">\(S_0\)</span> = the current price of risky underlying asset</p>
<p>From these two equations, we have the EMM or the state price density for good state <span class="math inline">\(q\)</span> as: <span class="math display">\[
q = \frac{R - D}{U - D}
\]</span></p>
<p>Thus, the present fair value of the call option is given by:</p>
<p><span class="math display">\[
\hat{f}_0 = \frac{1}{R}\left[ \frac{R - D}{U - D}(S_0 \cdot U - K) + \frac{U - R}{U - D} \cdot 0 \right] = \frac{(R - D)(U - 1)}{R(U - D)}
\]</span></p>
<p>assuming that</p>
<ul>
<li>Initial Asset Price (normalized): <span class="math inline">\(S_0=1\)</span><br>
</li>
<li>Strike Price (qualification threshold): <span class="math inline">\(K=1\)</span><br>
</li>
<li>Maturity: 18 years (quarterly steps = 72 periods)</li>
</ul>
<p>This formula indicates a clear proportional relationship for estimating current fair values representing inherited qualification-based claims for each class over a 18-year maturity period. While this valuation could be approximated using continuous distributions (e.g., Black-Scholes under symmetric assumptions <span class="math inline">\(U \cdot D=1\)</span>), our discrete binomial model allows straightforward interpretation without loss of economic intuition.</p>
</section>
<section id="empirical-analysis" class="level3">
<h3 class="anchored" data-anchor-id="empirical-analysis">Empirical Analysis</h3>
<p>We employ distinct underlying assets for each class. Using the historical dataset (Q1 1982–Q4 2019, 152 quarterly observations), we estimated the parameters and their associated fair values of call options for each class.</p>
<p><strong>For Proletariat (P) Class Children:</strong></p>
<ul>
<li><strong>Risky Asset</strong>: US Median usual weekly Real earnings (LES1252881600Q)<br>
</li>
<li><strong>Risk-Free Asset</strong>: US Real GDP per capita (A939RX0Q048SBEA)<br>
</li>
<li>Parameters:
<ul>
<li><span class="math inline">\(U_p\)</span>:= 75th percentile growth of wage (risky asset)<br>
</li>
<li><span class="math inline">\(D_p\)</span>:= 25th percentile growth of wage<br>
</li>
<li><span class="math inline">\(R_p\)</span>:= Median growth rate of Real GDP per capita</li>
</ul></li>
</ul>
<p><strong>For Capitalist (C) Class Children:</strong></p>
<ul>
<li><strong>Risky Asset</strong>: S&amp;P 500 equity (SPX)<br>
</li>
<li><strong>Risk-Free Asset</strong>: US 10-Year Treasury Bond</li>
<li>Parameters:
<ul>
<li><span class="math inline">\(U_c\)</span>:= 75th percentile quarterly growth of the equity index<br>
</li>
<li><span class="math inline">\(D_c\)</span>:= 25th percentile quarterly growth of the equity index<br>
</li>
<li><span class="math inline">\(R_c\)</span>:= Median of quarterly US 10-Year Treasury Bond Yield (DGS10)</li>
</ul></li>
</ul>
<p><strong>Empirical Results:</strong></p>
<ul>
<li><strong>For Proletariat (P) class children</strong>, <span class="math inline">\(\hat{P}_0=?\)</span><br>
</li>
<li><strong>For Capitalist (C) class children</strong>, <span class="math inline">\(\hat{C}_0=?\)</span></li>
</ul>
<div id="a009f129" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> yfinance <span class="im">as</span> yf</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas_datareader.data <span class="im">as</span> web</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터 기간 설정</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>start_date <span class="op">=</span> <span class="st">'1982-01-01'</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>end_date <span class="op">=</span> <span class="st">'2019-12-31'</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># S&amp;P 500 데이터 가져오기</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>sp500 <span class="op">=</span> yf.download(<span class="st">"^GSPC"</span>, start<span class="op">=</span>start_date, end<span class="op">=</span>end_date, interval<span class="op">=</span><span class="st">"1d"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>sp500_q <span class="op">=</span> sp500[<span class="st">'Close'</span>].resample(<span class="st">'QE'</span>).last()  <span class="co"># 분기별 종가 데이터</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># FRED 데이터 가져오기</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>us_median_weekly_earnings <span class="op">=</span> web.DataReader(<span class="st">'LES1252881600Q'</span>, <span class="st">'fred'</span>, start_date, end_date)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>us_real_gdp_per_capita <span class="op">=</span> web.DataReader(<span class="st">'A939RX0Q048SBEA'</span>, <span class="st">'fred'</span>, start_date, end_date)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>us_10yr_treasury_yield <span class="op">=</span> web.DataReader(<span class="st">'DGS10'</span>, <span class="st">'fred'</span>, start_date, end_date)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 인덱스를 맞추기 위해 분기별로 재샘플링</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>us_median_weekly_earnings <span class="op">=</span> us_median_weekly_earnings.resample(<span class="st">'QE'</span>).last()</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>us_real_gdp_per_capita <span class="op">=</span> us_real_gdp_per_capita.resample(<span class="st">'QE'</span>).last()</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>us_10yr_treasury_yield <span class="op">=</span> us_10yr_treasury_yield.resample(<span class="st">'QE'</span>).last()</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터프레임으로 변환</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'SP500'</span>: sp500_q.squeeze(),</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Median_Weekly_Earnings'</span>: us_median_weekly_earnings[<span class="st">'LES1252881600Q'</span>].squeeze(),</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Real_GDP_per_Capita'</span>: us_real_gdp_per_capita[<span class="st">'A939RX0Q048SBEA'</span>].squeeze(),</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'10yr_Treasury_Yield'</span>: us_10yr_treasury_yield[<span class="st">'DGS10'</span>].squeeze()</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>}, index<span class="op">=</span>sp500_q.index)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># 결측값 제거</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>data.dropna(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 수익률 계산</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'SP500_Return'</span>] <span class="op">=</span> data[<span class="st">'SP500'</span>].pct_change()</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'Earnings_Growth'</span>] <span class="op">=</span> data[<span class="st">'Median_Weekly_Earnings'</span>].pct_change()</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'GDP_Growth'</span>] <span class="op">=</span> data[<span class="st">'Real_GDP_per_Capita'</span>].pct_change()</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="co"># 통계치 계산</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>U_p <span class="op">=</span> data[<span class="st">'Earnings_Growth'</span>].quantile(<span class="fl">0.75</span>)<span class="op">+</span><span class="dv">1</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>D_p <span class="op">=</span> data[<span class="st">'Earnings_Growth'</span>].quantile(<span class="fl">0.25</span>)<span class="op">+</span><span class="dv">1</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>R_p <span class="op">=</span> data[<span class="st">'GDP_Growth'</span>].median()<span class="op">+</span><span class="dv">1</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>U_c <span class="op">=</span> data[<span class="st">'SP500_Return'</span>].quantile(<span class="fl">0.75</span>)<span class="op">+</span><span class="dv">1</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>D_c <span class="op">=</span> data[<span class="st">'SP500_Return'</span>].quantile(<span class="fl">0.25</span>)<span class="op">+</span><span class="dv">1</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>R_c <span class="op">=</span> data[<span class="st">'10yr_Treasury_Yield'</span>].median()</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>R_c <span class="op">=</span> R_c <span class="op">/</span> <span class="dv">100</span> <span class="op">+</span><span class="dv">1</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Proletariat Class Children Parameters:"</span>)</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"U_p: </span><span class="sc">{</span>U_p<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"D_p: </span><span class="sc">{</span>D_p<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"R_p: </span><span class="sc">{</span>R_p<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Capitalist Class Children Parameters:"</span>)</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"U_c: </span><span class="sc">{</span>U_c<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"D_c: </span><span class="sc">{</span>D_c<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"R_c: </span><span class="sc">{</span>R_c<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Binomial Option Pricing Model</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> binomial_option_pricing(K, S_0, T, U, D, R, dt):</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="co">    K: Strike price</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="co">    S_0: Initial stock price</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="co">    T: Time to maturity (in years)</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="co">    U: Up factor</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="co">    D: Down factor</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="co">    R: Risk-free rate</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="co">    dt: Number of steps for each year</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> T<span class="op">*</span>dt <span class="co"># Number of steps in the binomial tree</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>    q <span class="op">=</span> (R <span class="op">-</span> D) <span class="op">/</span> (U <span class="op">-</span> D)</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Initialize option values at maturity</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>    option_values <span class="op">=</span> np.zeros((n <span class="op">+</span> <span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>        ST <span class="op">=</span> S_0 <span class="op">*</span> (U <span class="op">**</span> i) <span class="op">*</span> (D <span class="op">**</span> (n <span class="op">-</span> i))</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>        option_values[i] <span class="op">=</span> <span class="bu">max</span>(<span class="dv">0</span>, ST <span class="op">-</span> K)</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Backward recursion for option values</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(n <span class="op">-</span> <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(j <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>            option_values[i] <span class="op">=</span> (q <span class="op">*</span> option_values[i <span class="op">+</span> <span class="dv">1</span>] <span class="op">+</span> (<span class="dv">1</span> <span class="op">-</span> q) <span class="op">*</span> option_values[i]) <span class="op">/</span> R</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> option_values[<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>K <span class="op">=</span> <span class="dv">1</span>  <span class="co"># Strike price</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>S_0 <span class="op">=</span> <span class="dv">1</span>  <span class="co"># Initial stock price</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="dv">18</span>  <span class="co"># Time to maturity (18 years)</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>dt <span class="op">=</span> <span class="dv">4</span> <span class="co"># Number of steps for each year</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate option prices</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>option_price_proletariat <span class="op">=</span> binomial_option_pricing(K, S_0, T, U_p, D_p, R_p, dt)</span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>option_price_capitalist <span class="op">=</span> binomial_option_pricing(K, S_0, T, U_c, D_c, R_c, dt)</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Fair price of Call Option, held by Proletariat Class Children:</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>option_price_proletariat<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Fair price of Call Option, held by Capitalist Class Children:</span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>option_price_capitalist<span class="sc">:.2f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>YF.download() has changed argument auto_adjust default to True</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>[*********************100%***********************]  1 of 1 completed</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Proletariat Class Children Parameters:
U_p: 1.01
D_p: 1.00
R_p: 1.01

Capitalist Class Children Parameters:
U_c: 1.07
D_c: 0.99
R_c: 1.05

Fair price of Call Option, held by Proletariat Class Children:
 0.30
Fair price of Call Option, held by Capitalist Class Children:
 0.97</code></pre>
</div>
</div>
</section>
<section id="discussion" class="level3">
<h3 class="anchored" data-anchor-id="discussion">Discussion</h3>
<p>This model clarifies the stark inequality underlying “ostensibly equal” qualification standards. Although formally identical, the call options’ absolute valuations significantly diverge, reflecting distinct economic inheritances accessible to each class. This disparity highlights structural inefficiencies and deep-rooted inequalities, persisting despite nominally identical qualification standards.</p>
<p>Ultimately, this analysis underscores how asset-based class differentiation profoundly impacts the perceived and realized absolute value of educational and economic opportunities, illuminating critical implications for economic policy, educational equity, and social justice frameworks.</p>
</section>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In societies characterized by pronounced economic stratification, opportunities presented as equal often yield disparate outcomes across different social strata. This disparity arises from inherent structural inefficiencies that restrict access to certain opportunities based on class. The <strong>Limits to Arbitrage Theory</strong> posits that market inefficiencies can persist due to various constraints, including capital limitations, preventing rational traders from correcting mispricings <span class="citation" data-cites="shleifer1997limits">(<a href="#ref-shleifer1997limits" role="doc-biblioref">Shleifer and Vishny 1997</a>)</span>. This paper explores how such constraints contribute to the unequal valuation of opportunities between the proletariat (P) and capitalist (C) classes.</p>
</section>
<section id="literature-review" class="level2">
<h2 class="anchored" data-anchor-id="literature-review">Literature Review</h2>
<p>The theoretical foundation relies primarily on the limits to arbitrage theory, initially articulated by Shleifer and Vishny <span class="citation" data-cites="shleifer1997limits">(<a href="#ref-shleifer1997limits" role="doc-biblioref">Shleifer and Vishny 1997</a>)</span>. Their seminal work shows how market inefficiencies persist due to practical constraints, particularly capital constraints, restricting the ability of arbitrageurs to exploit and correct mispricings. These constraints arise from significant capital requirements that effectively segregate participants into distinct economic spheres, as emphasized by subsequent studies on financially constrained arbitrageurs <span class="citation" data-cites="gromb2002equilibrium xiong2001convergence">(<a href="#ref-gromb2002equilibrium" role="doc-biblioref">Gromb and Vayanos 2002</a>; <a href="#ref-xiong2001convergence" role="doc-biblioref">Xiong 2001</a>)</span>.</p>
<p>Geanakoplos’ research introduces the leverage cycle, which explains how fluctuations in leverage and capital availability perpetuate systemic inequality and financial instability <span class="citation" data-cites="geanakoplos2010leverage">(<a href="#ref-geanakoplos2010leverage" role="doc-biblioref">Geanakoplos 2010</a>)</span>. Complementary studies, such as that by Gromb and Vayanos, also demonstrate the welfare implications of constrained arbitrageurs operating under capital limitations, further exacerbating persistent inequality <span class="citation" data-cites="gromb2002equilibrium">(<a href="#ref-gromb2002equilibrium" role="doc-biblioref">Gromb and Vayanos 2002</a>)</span>. Moreover, Barberis and Thaler’s comprehensive survey on behavioral finance indicates how cognitive and behavioral constraints exacerbate market inefficiencies, reinforcing the structural barriers that differentiate economic outcomes across social strata <span class="citation" data-cites="barberis2003survey">(<a href="#ref-barberis2003survey" role="doc-biblioref">Barberis and Thaler 2003</a>)</span>.</p>
<p>Extending beyond purely financial contexts, sociological and economic research provides additional perspectives on structural inequalities and opportunity valuation. Bourdieu’s concept of social reproduction underscores how cultural capital perpetuates socioeconomic inequalities across generations <span class="citation" data-cites="bourdieu1973cultural">(<a href="#ref-bourdieu1973cultural" role="doc-biblioref">Bourdieu 1973</a>)</span>. Recent empirical evidence by Stansbury <span class="citation" data-cites="stansbury2024class">(<a href="#ref-stansbury2024class" role="doc-biblioref">Stansbury 2024</a>)</span> and findings by the Social Mobility Commission <span class="citation" data-cites="smc2023class">(<a href="#ref-smc2023class" role="doc-biblioref">Social Mobility Commission 2023</a>)</span> further demonstrate how economic capital inherited through generations shapes differential outcomes, even when individuals ostensibly possess identical qualifications.</p>
<p>Chetty et al.&nbsp;provide compelling evidence linking parental economic conditions to children’s educational outcomes and future earnings, strongly supporting the relevance of inherited economic positions in determining opportunity valuations <span class="citation" data-cites="chetty2014family">(<a href="#ref-chetty2014family" role="doc-biblioref">Chetty et al. 2014</a>)</span>. Similarly, Piketty’s influential book highlights the crucial role inherited wealth plays in perpetuating structural economic disparities, emphasizing the critical nature of capital inheritance in shaping individuals’ economic trajectories and their access to opportunities <span class="citation" data-cites="piketty2014capital">(<a href="#ref-piketty2014capital" role="doc-biblioref">Piketty 2014</a>)</span>.</p>
<p>Policy implications regarding these structural inequalities and efforts to enhance social mobility have been explored extensively by institutions such as the OECD. Their analyses suggest policy frameworks that might alleviate the persistent inequalities discussed herein <span class="citation" data-cites="oecd2018mobility">(<a href="#ref-oecd2018mobility" role="doc-biblioref">OECD 2018</a>)</span>. Reeves’ concept of the “glass floor” further illustrates how affluent socioeconomic backgrounds systematically maintain class advantages despite equal or even lesser merit-based qualifications <span class="citation" data-cites="reeves2017glassfloor">(<a href="#ref-reeves2017glassfloor" role="doc-biblioref">Reeves 2017</a>)</span>.</p>
<p>Collectively, these studies underline a coherent narrative: ostensibly equal opportunities often conceal significant disparities rooted in inherited structural inequalities, persistent capital constraints, and behavioral limitations to arbitrage. Our model complements this literature by quantitatively evaluating how these structural factors systematically influence the absolute value of identical qualification standards across distinct socioeconomic groups.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-barberis2003survey" class="csl-entry" role="listitem">
Barberis, Nicholas, and Richard Thaler. 2003. <span>“A Survey of Behavioral Finance.”</span> <em>Handbook of the Economics of Finance</em> 1: 1053–1128.
</div>
<div id="ref-bourdieu1973cultural" class="csl-entry" role="listitem">
Bourdieu, Pierre. 1973. <span>“Cultural Reproduction and Social Reproduction,”</span> 71–112.
</div>
<div id="ref-chetty2014family" class="csl-entry" role="listitem">
Chetty, Raj, Nathaniel Hendren, Patrick Kline, and Emmanuel Saez. 2014. <span>“Where Is the Land of Opportunity? The Geography of Intergenerational Mobility in the United States.”</span> <em>Quarterly Journal of Economics</em> 129 (4): 1553–623.
</div>
<div id="ref-geanakoplos2010leverage" class="csl-entry" role="listitem">
Geanakoplos, John. 2010. <span>“The Leverage Cycle.”</span> <em>NBER Macroeconomics Annual</em> 24: 1–65.
</div>
<div id="ref-gromb2002equilibrium" class="csl-entry" role="listitem">
Gromb, Denis, and Dimitri Vayanos. 2002. <span>“Equilibrium and Welfare in Markets with Financially Constrained Arbitrageurs.”</span> <em>Journal of Financial Economics</em> 66 (2-3): 361–407.
</div>
<div id="ref-oecd2018mobility" class="csl-entry" role="listitem">
OECD. 2018. <span>“A Broken Social Elevator? How to Promote Social Mobility.”</span> OECD Publishing. <a href="https://www.oecd.org/social/social-mobility-2018-report.pdf">https://www.oecd.org/social/social-mobility-2018-report.pdf</a>.
</div>
<div id="ref-piketty2014capital" class="csl-entry" role="listitem">
Piketty, Thomas. 2014. <em>Capital in the Twenty-First Century</em>. Harvard University Press.
</div>
<div id="ref-reeves2017glassfloor" class="csl-entry" role="listitem">
Reeves, Richard V. 2017. <em>Dream Hoarders: How the American Upper Middle Class Is Leaving Everyone Else in the Dust</em>. Brookings Institution Press.
</div>
<div id="ref-shleifer1997limits" class="csl-entry" role="listitem">
Shleifer, Andrei, and Robert W. Vishny. 1997. <span>“The Limits of Arbitrage.”</span> <em>The Journal of Finance</em> 52 (1): 35–55.
</div>
<div id="ref-smc2023class" class="csl-entry" role="listitem">
Social Mobility Commission. 2023. <span>“State of the Nation Report 2023: Class, Meritocracy and Inequality.”</span> <em>UK Government Publication</em>. <a href="https://www.gov.uk/government/publications/social-mobility-commission-2023-report">https://www.gov.uk/government/publications/social-mobility-commission-2023-report</a>.
</div>
<div id="ref-stansbury2024class" class="csl-entry" role="listitem">
Stansbury, Anna. 2024. <span>“Class and Career Outcomes Among the Highly Educated.”</span> <em>Financial Times</em>. <a href="https://www.ft.com/content/ddf5fe9b-cf67-48f8-a01b-69f1e5635a1b">https://www.ft.com/content/ddf5fe9b-cf67-48f8-a01b-69f1e5635a1b</a>.
</div>
<div id="ref-xiong2001convergence" class="csl-entry" role="listitem">
Xiong, Wei. 2001. <span>“Convergence Trading with Wealth Effects.”</span> <em>Journal of Financial Economics</em> 62 (2): 247–92.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>