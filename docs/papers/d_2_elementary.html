<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.4">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>동역학 기초수학</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./../assets/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-19cd9126a9a9c64aacb03dc90954a64a.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-c68da94286011e9302a35de07ef23a9e.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-19cd9126a9a9c64aacb03dc90954a64a.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-05be89f7dc158724d6ec0523865b6986.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-1418392306ebdb7d3fb27066783eb1cf.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-05be89f7dc158724d6ec0523865b6986.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Google tag (gtag.js) -->

<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LMQWVD1MKD"></script>

<script>

  window.dataLayer = window.dataLayer || [];

  function gtag(){dataLayer.push(arguments);}

  gtag('js', new Date());



  gtag('config', 'G-LMQWVD1MKD');

</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="./../assets/logo-nav.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/primenumbersam/"> 
<span class="menu-text">Apps</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-books" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Books</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-books">    
        <li>
    <a class="dropdown-item" href="./../book-ai-math/index.html">
 <span class="dropdown-text">AI 기초 수학</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../book-ai-stats/index.html">
 <span class="dropdown-text">AI 기초 통계학</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../book-ai-algebra/index.html">
 <span class="dropdown-text">AI 응용 선형대수학</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../book-ai-calculus/index.html">
 <span class="dropdown-text">AI 응용 미적분학</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-papers" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Papers</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-papers">    
        <li>
    <a class="dropdown-item" href="./index.html">
 <span class="dropdown-text">Working</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./../paper-tbtf/index.html">
 <span class="dropdown-text">Thesis</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/primenumbersam/primenumbersam.github.io" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./d_overview.html">돈의 동역학</a></li><li class="breadcrumb-item"><a href="./d_2_elementary.html">동역학 기초수학</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gitsam 연구</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">경제</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gitsam_reading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gitsam 독후감</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indicator_growth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">경제성장 대표지표?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./labor_decoupling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">노동: 기여 vs.&nbsp;분배</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">From Linear to Curved Structures</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pareto_index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Wealth Distribution</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gilded_age.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">New Gilded Age</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modern_matthew.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modern Matthew Effect</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dichotomy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Identifying Dichotomy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pricing_equal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Market Price of Education</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./corner_solution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Corner Solutions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./market_conditions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Free Market Conditions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./market_incomplete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Incomplete Markets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structure_cointegration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-Varying Cointegration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structure_tfp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-varying TFP</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">금융</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./yield_curve.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Yield curve</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlation_crypto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Correlation in Cryptos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./finance_asset_puzzle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Asset Premium Puzzles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./finance_linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Models of Finance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./finance_existence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rethinking Asset Existence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./capm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Revisiting the CAPM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./capm_industry.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Industry CAPM</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">돈의 동역학</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AI시대 자본과 노동</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d_1_critique.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">주류경제학 비판</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d_2_elementary.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">동역학 기초수학</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d_3_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AI시대 동역학 모형</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d_4_ethics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AI시대 경제윤리</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#lotkavolterra-model" id="toc-lotkavolterra-model" class="nav-link active" data-scroll-target="#lotkavolterra-model"><span class="header-section-number">1</span> Lotka–Volterra Model</a></li>
  <li><a href="#closed-system-dynamics" id="toc-closed-system-dynamics" class="nav-link" data-scroll-target="#closed-system-dynamics"><span class="header-section-number">2</span> Closed System Dynamics</a></li>
  <li><a href="#normalization" id="toc-normalization" class="nav-link" data-scroll-target="#normalization"><span class="header-section-number">3</span> Normalization</a></li>
  <li><a href="#fixed-points-and-their-existence" id="toc-fixed-points-and-their-existence" class="nav-link" data-scroll-target="#fixed-points-and-their-existence"><span class="header-section-number">4</span> Fixed Points and Their Existence</a></li>
  <li><a href="#local-stability-and-linear-approximation" id="toc-local-stability-and-linear-approximation" class="nav-link" data-scroll-target="#local-stability-and-linear-approximation"><span class="header-section-number">5</span> Local Stability and Linear Approximation</a></li>
  <li><a href="#replicator-dynamics-and-nash-equilibrium" id="toc-replicator-dynamics-and-nash-equilibrium" class="nav-link" data-scroll-target="#replicator-dynamics-and-nash-equilibrium"><span class="header-section-number">6</span> Replicator Dynamics and Nash Equilibrium</a></li>
  <li><a href="#perronfrobenius-and-dominant-states" id="toc-perronfrobenius-and-dominant-states" class="nav-link" data-scroll-target="#perronfrobenius-and-dominant-states"><span class="header-section-number">7</span> Perron–Frobenius and Dominant States</a>
  <ul class="collapse">
  <li><a href="#discrete-time-markov-chains-and-invariant-distributions" id="toc-discrete-time-markov-chains-and-invariant-distributions" class="nav-link" data-scroll-target="#discrete-time-markov-chains-and-invariant-distributions"><span class="header-section-number">7.1</span> Discrete-time: Markov Chains and Invariant Distributions</a></li>
  <li><a href="#continuous-time-linear-odes-and-eigenvector-dominance" id="toc-continuous-time-linear-odes-and-eigenvector-dominance" class="nav-link" data-scroll-target="#continuous-time-linear-odes-and-eigenvector-dominance"><span class="header-section-number">7.2</span> Continuous-Time: Linear ODEs and Eigenvector Dominance</a></li>
  <li><a href="#structural-interpretation" id="toc-structural-interpretation" class="nav-link" data-scroll-target="#structural-interpretation"><span class="header-section-number">7.3</span> Structural Interpretation</a></li>
  </ul></li>
  <li><a href="#selection-under-constraint-in-quasi-closed-systems" id="toc-selection-under-constraint-in-quasi-closed-systems" class="nav-link" data-scroll-target="#selection-under-constraint-in-quasi-closed-systems"><span class="header-section-number">8</span> Selection under Constraint in Quasi-Closed Systems</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./d_overview.html">돈의 동역학</a></li><li class="breadcrumb-item"><a href="./d_2_elementary.html">동역학 기초수학</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">동역학 기초수학</h1>
<p class="subtitle lead">Elementary Mathematics for System Dynamics</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="lotkavolterra-model" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="lotkavolterra-model"><span class="header-section-number">1</span> Lotka–Volterra Model</h2>
<p>Let <span class="math inline">\(\mathbf{x} = (x, y)\)</span> denote the population levels of two interacting species—prey (<span class="math inline">\(x\)</span>) and predator (<span class="math inline">\(y\)</span>). The classical <strong>Lotka–Volterra equations</strong> describe their nonlinear dynamics as:</p>
<p><span class="math display">\[
\begin{aligned}
\dot{x} &amp;= x(a_{11} - a_{12} y), \\
\dot{y} &amp;= y(a_{21} x - a_{22}),
\end{aligned}
\]</span></p>
<p>where all parameters <span class="math inline">\(a_{ij} &gt; 0\)</span> represent positive interaction or decay rates. This defines a closed, two-dimensional autonomous system on the positive orthant <span class="math inline">\(\mathbb{R}_+^2\)</span>.</p>
<p>There are no external shocks, migrations, or species mutations—only endogenous interaction between predator and prey. The predator grows by consuming the prey; the prey reproduces in the absence of predation.</p>
<p>This system exhibits a distinctive dynamical feature: <strong>closed orbits</strong> in the phase plane. That is, solutions cycle indefinitely without converging to a fixed point or diverging to infinity. This reflects the conservative nature of the system—total “interaction energy” is preserved, and the system perpetually oscillates.</p>
<blockquote class="blockquote">
<p><strong>Remarks:</strong> These closed cycles correspond, in the frequency domain, to dominant harmonic modes—i.e., a natural periodicity. From a systems-theoretic perspective, this allows interpretation via <strong>Fourier decomposition</strong>, where the cyclical behavior of populations maps to periodic oscillators in signal processing.</p>
</blockquote>
<p>Thus, the Lotka–Volterra model offers a rich entry point for understanding <strong>non-equilibrium dynamics</strong>, <strong>nonlinear feedback</strong>, and <strong>structural cycles</strong>—core features of many biological and economic systems.</p>
<div id="1a69d1c8" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulation Plan</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Vector Field + Trajectory (Auto-Scaled)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Time-Domain Dynamics (Population Levels)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Normalized Time-Series (Prey vs. Predator Share)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.integrate <span class="im">import</span> solve_ivp</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 이 모형의 궤적은 보존계(conservative system)에서 closed orbit을 형성.</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 시간 신호(time series)의 Fourier transform이 주파수 영역(frequency domain)에서 고유한 dominant cycle을 갖는다.</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Lotka–Volterra Parameters</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>a11 <span class="op">=</span> <span class="fl">1.0</span>   <span class="co"># prey natural growth rate</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>a12 <span class="op">=</span> <span class="fl">0.1</span>   <span class="co"># prey loss due to predator</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>a21 <span class="op">=</span> <span class="fl">0.075</span> <span class="co"># predator growth due to prey</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>a22 <span class="op">=</span> <span class="fl">1.5</span>   <span class="co"># predator natural decay</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the ODE system</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> lotka_volterra(t, y):</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    L, C <span class="op">=</span> y</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    dLdt <span class="op">=</span> a11 <span class="op">*</span> L <span class="op">-</span> a12 <span class="op">*</span> L <span class="op">*</span> C</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    dCdt <span class="op">=</span> a21 <span class="op">*</span> L <span class="op">*</span> C <span class="op">-</span> a22 <span class="op">*</span> C</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [dLdt, dCdt]</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Time grid and solve</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>L0, C0 <span class="op">=</span> <span class="dv">10</span>, <span class="dv">5</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>t_span <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">50</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>t_eval <span class="op">=</span> np.linspace(t_span[<span class="dv">0</span>], t_span[<span class="dv">1</span>], <span class="dv">1000</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>sol <span class="op">=</span> solve_ivp(lotka_volterra, t_span, [L0, C0], t_eval<span class="op">=</span>t_eval)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>t, L, C <span class="op">=</span> sol.t, sol.y[<span class="dv">0</span>], sol.y[<span class="dv">1</span>]</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co"># -------- 1. Vector Field + Trajectory (Auto-Scaled) --------</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Dynamic range based on solution</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>L_max <span class="op">=</span> <span class="bu">max</span>(L) <span class="op">*</span> <span class="fl">1.1</span>  <span class="co"># add 10% margin</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>C_max <span class="op">=</span> <span class="bu">max</span>(C) <span class="op">*</span> <span class="fl">1.1</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>L_vals <span class="op">=</span> np.linspace(<span class="dv">0</span>, L_max, <span class="dv">25</span>)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>C_vals <span class="op">=</span> np.linspace(<span class="dv">0</span>, C_max, <span class="dv">25</span>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>L_grid, C_grid <span class="op">=</span> np.meshgrid(L_vals, C_vals)</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Recompute vector field on new grid</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>dL <span class="op">=</span> a11 <span class="op">*</span> L_grid <span class="op">-</span> a12 <span class="op">*</span> L_grid <span class="op">*</span> C_grid</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>dC <span class="op">=</span> a21 <span class="op">*</span> L_grid <span class="op">*</span> C_grid <span class="op">-</span> a22 <span class="op">*</span> C_grid</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>mag <span class="op">=</span> np.sqrt(dL<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> dC<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>dL_norm <span class="op">=</span> dL <span class="op">/</span> (mag <span class="op">+</span> <span class="fl">1e-8</span>)</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>dC_norm <span class="op">=</span> dC <span class="op">/</span> (mag <span class="op">+</span> <span class="fl">1e-8</span>)</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">6</span>))</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>plt.quiver(L_grid, C_grid, dL_norm, dC_norm, angles<span class="op">=</span><span class="st">'xy'</span>, color<span class="op">=</span><span class="st">'gray'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>plt.plot(L, C, <span class="st">'r'</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">"System Trajectory"</span>)</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Prey (L)"</span>)</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Predator (C)"</span>)</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Phase Space with Vector Field (Auto-Scaled)"</span>)</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="co"># -------- 2. Time-Domain Dynamics (Level) --------</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">5</span>))</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>plt.plot(t, L, label<span class="op">=</span><span class="st">"Prey (L)"</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>plt.plot(t, C, label<span class="op">=</span><span class="st">"Predator (C)"</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Time-Domain Dynamics (Lotka–Volterra)"</span>)</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Time"</span>)</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Population"</span>)</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="co"># -------- 3. Normalized Dynamics (Share) --------</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>l_t <span class="op">=</span> L <span class="op">/</span> (L <span class="op">+</span> C)</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>c_t <span class="op">=</span> C <span class="op">/</span> (L <span class="op">+</span> C)</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">4</span>))</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>plt.plot(t, l_t, label<span class="op">=</span><span class="st">"Prey share (L / (L+C))"</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>plt.plot(t, c_t, label<span class="op">=</span><span class="st">"Predator share (C / (L+C))"</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Normalized Population Share over Time"</span>)</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Time"</span>)</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Normalized Share"</span>)</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="d_2_elementary_files/figure-html/cell-2-output-1.png" width="662" height="566" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="d_2_elementary_files/figure-html/cell-2-output-2.png" width="1142" height="470" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="d_2_elementary_files/figure-html/cell-2-output-3.png" width="950" height="374" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="closed-system-dynamics" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="closed-system-dynamics"><span class="header-section-number">2</span> Closed System Dynamics</h2>
<p>The guiding question of any dynamical system is deceptively simple:</p>
<blockquote class="blockquote">
<p><strong>“Given enough time, where does the system go?”</strong></p>
</blockquote>
<p>The conventional mathematical answer is that it converges to a <strong>steady-state path</strong>—a trajectory in which the internal forces of the system reach dynamic balance. Yet in <strong>closed systems</strong>, this “steady-state” is often mistaken for an indicator of optimality or efficiency. In reality, it is simply an outcome <strong>permitted by the structure</strong>, not selected for its virtue.</p>
<p>Historically, equilibrium emerged in static contexts: balance of forces in classical mechanics, concentration in chemical equilibrium, or price equalization in Walrasian economics. These notions carried an implicit assumption of desirability: what is balanced is often assumed to be <em>good</em>. But in <strong>dynamical systems</strong>, particularly those expressed as <strong>vector fields</strong>, equilibrium must be reinterpreted. The long-run behavior may include <strong>fixed points</strong> (sinks, saddles, sources), or more complex attractors like <strong>limit cycles</strong>, <strong>quasi-periodic orbits</strong>, or <strong>chaotic regimes</strong>. The steady-state path is not a normative endpoint—it is a <strong>constraint-compatible attractor</strong>, shaped by the system’s geometry.</p>
<p>In our context, a <strong>steady-state</strong> is defined as a location in the system’s state space where the vector field vanishes: <span class="math display">\[
\dot{\mathbf{x}} = f(\mathbf{x}) = 0,
\]</span> or, more broadly, where the system’s flow settles into a <strong>repeating or invariant configuration</strong> governed by internal dynamics alone.</p>
<p>But crucially, <strong>in social and economic systems</strong>, the existence of such a steady-state <strong>does not justify its moral legitimacy</strong>. A dynamical system may converge toward labor extinction or monopolized capital reproduction—not because these are efficient or just, but because they are <strong>structurally encoded</strong>. That is:</p>
<blockquote class="blockquote">
<p>Persistence is positional, not performative. Steady-states do not signal merit—they expose geometry.</p>
</blockquote>
<p>We formalize our model within the general structure of an <strong>autonomous system</strong>:</p>
<blockquote class="blockquote">
<p><strong>Definition (Autonomous System):</strong><br>
A system is autonomous if its evolution depends solely on state, not time: <span class="math display">\[
\dot{\mathbf{x}} = f(\mathbf{x}), \quad \mathbf{x}(0) = \mathbf{x}_0,
\]</span> where <span class="math inline">\(f : \mathbb{R}^n \rightarrow \mathbb{R}^n\)</span> is smooth.</p>
</blockquote>
<p>Such systems are <strong>closed</strong> if no external forcing, structural shocks, or additional dimensions intervene. These assumptions imply that the system’s <strong>phase space</strong> is governed by internal logic alone.</p>
<blockquote class="blockquote">
<p><strong>Assumption 1 (Autonomy):</strong> The vector field <span class="math inline">\(f\)</span> is time-invariant: <span class="math inline">\(\partial f / \partial t = 0\)</span>.<br>
<strong>Assumption 2 (Closure):</strong> All evolution arises from the existing state; no new variables or information enter.</p>
</blockquote>
<p>These assumptions are not cosmetic—they define a world in which <strong>only internally available motion is possible</strong>.</p>
<p>Accordingly, the <strong>state space</strong> <span class="math inline">\(\mathcal{M}\)</span> is typically modeled as a <strong>smooth manifold</strong>, encoding both geometric constraints and domain-specific feasibility:</p>
<ul>
<li>In <strong>ecology</strong>, <span class="math inline">\(\mathbb{R}_+^n\)</span> enforces non-negativity.</li>
<li>In <strong>replicator dynamics</strong>, the <strong>unit simplex</strong> <span class="math inline">\(\Delta^{n-1}\)</span> ensures probabilistic normalization: <span class="math inline">\(\sum x_i = 1\)</span>.</li>
<li>In <strong>capital-labor systems</strong>, we may constrain motion to the set of feasible capital/labor ratios or normalized wealth shares.</li>
</ul>
<blockquote class="blockquote">
<p>The manifold does not just host the system—it constrains its fate.<br>
Geometry is not inert background; it is <strong>active architecture</strong>.</p>
</blockquote>
<p>As a canonical illustration, consider a <strong>discrete-time Markov chain</strong>: <span class="math display">\[
\mathbf{x}_{t+1} = P \mathbf{x}_t,
\]</span> where <span class="math inline">\(P\)</span> is a row-stochastic matrix and <span class="math inline">\(\mathbf{x}_t \in \Delta^{n-1}\)</span>. The state evolves entirely within the simplex, preserving closure and total mass.</p>
<ul>
<li>The <strong>invariant distribution</strong> <span class="math inline">\(\mathbf{x}^*\)</span> satisfies <span class="math inline">\(P \mathbf{x}^* = \mathbf{x}^*\)</span>.</li>
<li>The <strong>transition</strong> is internal, memoryless, and fully endogenous.</li>
</ul>
<p>This analogy demonstrates that <strong>both deterministic continuous-time systems</strong> (e.g., ODEs) and <strong>stochastic discrete-time systems</strong> (e.g., Markov chains) operate under the same architectural logic:</p>
<blockquote class="blockquote">
<p>Change is allowed only within structure Innovation is not generated—it is assumed absent</p>
</blockquote>
<p>Thus, when economic models use “equilibrium” to describe such systems, the term often smuggles in <strong>normative meaning</strong> under <strong>structural constraints</strong>. Our reformulation rejects this conflation. In our model:</p>
<ul>
<li>The steady-state may represent <strong>labor extinction</strong>.</li>
<li>Capital may persist by <strong>structural inertia</strong>.</li>
<li>Feedbacks may reinforce inequality even without growth.</li>
</ul>
<p>The central insight is that <strong>equilibrium is not a justification</strong>. It is a <strong>geometric consequence</strong>.<br>
The system does <strong>not</strong> select for <strong>good</strong> outcomes—it selects what fits according to the system’s pre-existing structure. Equilibrium in a real dynamic model is not a name for a desirable or normatively fair path—as it often appears in unrealistic normative models—but rather the ideal limit of motion under realistically imposed constraints. It is where the system stops—not because it ought to—but because it can proceed no further within the model’s structure.</p>
</section>
<section id="normalization" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="normalization"><span class="header-section-number">3</span> Normalization</h2>
<blockquote class="blockquote">
<p>from Levels to Shares: ODEs as Markov-like Systems</p>
</blockquote>
<p>In many economic or ecological models, the system is initially formulated in <strong>absolute levels</strong>. Consider a general two-dimensional ODE system describing the interaction of two populations—such as labor (<span class="math inline">\(L\)</span>) and capital (<span class="math inline">\(C\)</span>), or prey and predator:</p>
<p><span class="math display">\[
\begin{aligned}
\dot{L}(t) &amp;= f_L(L, C), \\
\dot{C}(t) &amp;= f_C(L, C).
\end{aligned}
\]</span></p>
<p>This level-based description captures total quantity dynamics. However, in many contexts, what matters is not the absolute size of each group but their <strong>relative share</strong> in the system. For this, we define normalized states:</p>
<p><span class="math display">\[
\ell(t) = \frac{L(t)}{L(t) + C(t)}, \quad c(t) = \frac{C(t)}{L(t) + C(t)},
\]</span></p>
<p>so that <span class="math inline">\(\ell + c = 1\)</span>. The state space becomes the <strong>1-simplex</strong> <span class="math inline">\(\Delta^1 = \{ (\ell, c) \in \mathbb{R}^2 \mid \ell + c = 1, \, \ell, c \ge 0 \}\)</span>.</p>
<p>Let <span class="math inline">\(S(t) = L(t) + C(t)\)</span> denote the total. Then using the quotient rule, the share dynamics are:</p>
<p><span class="math display">\[
\dot{\ell} = \frac{f_L \cdot S - L \cdot (f_L + f_C)}{S^2}.
\]</span></p>
<p>Rewriting in terms of <span class="math inline">\(\ell\)</span> and <span class="math inline">\(c\)</span>:</p>
<p><span class="math display">\[
\dot{\ell} = \ell (f_L - \bar{f}), \quad \text{where } \bar{f} = \ell f_L + c f_C.
\]</span></p>
<p>This equation takes the exact form of <strong>replicator dynamics</strong>, familiar from evolutionary game theory. It describes the differential success of one component relative to the population-weighted average. Many nonlinear level-based systems can be recast as share-based, constrained systems evolving on a simplex.</p>
<p>Generalizing to <span class="math inline">\(n\)</span>-dimensional systems: suppose we have <span class="math inline">\(\mathbf{x}(t) = (x_1, \dots, x_n) \in \mathbb{R}_+^n\)</span>, and define normalized shares:</p>
<p><span class="math display">\[
\tilde{x}_i(t) = \frac{x_i(t)}{\sum_{j=1}^n x_j(t)}.
\]</span></p>
<p>Then the normalized dynamics become:</p>
<p><span class="math display">\[
\dot{\tilde{x}}_i = \tilde{x}_i \left[ g_i(\mathbf{x}) - \sum_j \tilde{x}_j g_j(\mathbf{x}) \right],
\]</span></p>
<p>which is again replicator-type dynamics—a nonlinear but share-preserving flow over the simplex <span class="math inline">\(\Delta^{n-1}\)</span>.</p>
<p>Now consider the special case where the original system is <strong>linear</strong>:</p>
<p><span class="math display">\[
\dot{\mathbf{x}} = A \mathbf{x}, \quad \text{with } A \text{ a non-negative matrix}.
\]</span></p>
<p>After normalization, the system evolves as:</p>
<p><span class="math display">\[
\dot{\tilde{\mathbf{x}}} = \tilde{\mathbf{x}} \cdot (A - \bar{a} I),
\]</span></p>
<p>where <span class="math inline">\(\bar{a} = \tilde{\mathbf{x}}^\top A \mathbf{1}\)</span> is the average growth rate. This dynamics mimics the evolution of a <strong>discrete-time Markov chain</strong> in continuous time—particularly when <span class="math inline">\(A\)</span> is column-stochastic (or conserves total mass, i.e., <span class="math inline">\(\sum_i \dot{x}_i = 0\)</span>).</p>
<p><strong>Key Structural Insight:</strong></p>
<ul>
<li>Level dynamics describe <strong>absolute accumulation or depletion</strong>.<br>
</li>
<li>Share dynamics describe <strong>relative competition or reproduction</strong>.<br>
</li>
<li>The latter induces a <strong>geometry over the simplex</strong>, mirroring that of <strong>Markov chains</strong> or <strong>probabilistic flows</strong>.</li>
</ul>
<p>This connection is more than formal. In applied settings, analyzing normalized dynamics often simplifies the structure, isolates systemic selection mechanisms, and aligns with probabilistic interpretations.</p>
<p>A closed ODE system can often be interpreted in <strong>dual form</strong>:</p>
<ul>
<li>As <strong>mass evolution</strong> in <span class="math inline">\(\mathbb{R}_+^n\)</span><br>
</li>
<li>As <strong>probability evolution</strong> in <span class="math inline">\(\Delta^{n-1}\)</span></li>
</ul>
<p>Both views preserve internal consistency but emphasize different types of systemic constraint: <strong>conservation of total quantity</strong> vs.&nbsp;<strong>invariance of share structure</strong>.</p>
</section>
<section id="fixed-points-and-their-existence" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="fixed-points-and-their-existence"><span class="header-section-number">4</span> Fixed Points and Their Existence</h2>
<p>A central goal in the study of closed dynamical systems is to characterize their long-run behavior. The most fundamental concept in this regard is the <strong>fixed point</strong>—a state in which the system remains unchanged under its own dynamics.</p>
<blockquote class="blockquote">
<p><strong>Definition (Fixed Point):</strong><br>
A point <span class="math inline">\(\mathbf{x}^* \in \mathbb{R}^n\)</span> is a fixed point of the system <span class="math inline">\(\dot{\mathbf{x}} = f(\mathbf{x})\)</span> if: <span class="math display">\[
f(\mathbf{x}^*) = 0.
\]</span></p>
</blockquote>
<p>At such a point, the vector field vanishes; the system “comes to rest” in a dynamical sense. In closed systems, fixed points are <strong>endogenous attractors</strong>: they arise not by design but by the internal logic of the system itself.</p>
<blockquote class="blockquote">
<p><strong>Theorem (Brouwer’s Fixed Point Theorem):</strong><br>
If <span class="math inline">\(f\)</span> is continuous and maps a <strong>compact</strong> and <strong>convex</strong> subset <span class="math inline">\(K \subset \mathbb{R}^n\)</span> into itself, then there exists at least one <span class="math inline">\(\mathbf{x}^* \in K\)</span> such that <span class="math inline">\(f(\mathbf{x}^*) = 0\)</span>.</p>
</blockquote>
<p>This foundational result guarantees the existence of fixed points in many applied settings, including economics and evolutionary biology, especially when the state space is constrained—for example, to the positive orthant <span class="math inline">\(\mathbb{R}_+^n\)</span> or the unit simplex <span class="math inline">\(\Delta^{n-1}\)</span>.</p>
<p>However, <strong>existence</strong> does not imply <strong>uniqueness</strong>, <strong>stability</strong>, or <strong>optimality</strong>. There may be many fixed points, some of which are unstable or economically inefficient.</p>
<p>In the context of <strong>replicator dynamics</strong>, which often result from normalization of level-based ODEs (as shown in the previous section), fixed points have a natural interpretation:</p>
<blockquote class="blockquote">
<p><strong>Example (Replicator Dynamics):</strong><br>
Let <span class="math inline">\(\mathbf{x} = (x_1, x_2, x_3) \in \Delta^2\)</span> represent strategy shares in a 3-type population. The replicator equation is: <span class="math display">\[
\dot{x}_i = x_i\left[(A \mathbf{x})_i - \mathbf{x}^\top A \mathbf{x}\right].
\]</span> Every <strong>Nash equilibrium</strong> corresponds to a fixed point of this system.</p>
</blockquote>
<p>In this setting, the equilibrium condition says that any strategy with positive share must yield the same expected payoff as the population average. The resulting fixed point <span class="math inline">\(\mathbf{x}^*\)</span> reflects <strong>invariance under self-replicating dynamics</strong>: if every strategy earns the average return, no further adjustment occurs.</p>
<p>More broadly, fixed points serve as candidates for <strong>global asymptotic behavior</strong>—states toward which the system may converge over time. Whether or not this convergence occurs depends on their <strong>stability</strong>, a topic we will address in the next section. But even without stability, fixed points offer an essential structural insight: <strong>Fixed points are not always efficient.</strong> They are not guaranteed to maximize a welfare function, only to satisfy internal consistency.</p>
<p>This distinction is especially important in economic models. Market equilibria, for example, may persist due to structural constraints, not because they are Pareto optimal. In ecological models, predator-prey balance may be achieved at inefficient population levels, depending on the interaction parameters.</p>
<p>Finally, fixed points are the bridge between <strong>nonlinear systems</strong> and their <strong>linear approximations</strong>. In order to study local stability, we must first locate these points. They form the anchors around which the system’s behavior can be analyzed geometrically.</p>
<p><strong>Fixed points</strong> exist under mild conditions (Brouwer):</p>
<ul>
<li>They are invariant under the system’s own dynamics.<br>
</li>
<li>They may correspond to equilibria in economic or evolutionary settings.<br>
</li>
<li>Their role is structural, not necessarily optimal.<br>
</li>
<li>Their stability and selection are determined by local geometry, but they are ultimately constrained by the global topology of the system.</li>
</ul>
</section>
<section id="local-stability-and-linear-approximation" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="local-stability-and-linear-approximation"><span class="header-section-number">5</span> Local Stability and Linear Approximation</h2>
<p>Once fixed points have been identified, the next question is whether they are <strong>locally stable</strong>—that is, whether the system returns to the fixed point after a small perturbation or diverges away. This leads to a key analytical technique: <strong>linearization</strong>, which provides a geometric approximation of the nonlinear system near a fixed point.</p>
<blockquote class="blockquote">
<p><strong>Definition (Linearization and Jacobian Matrix):</strong><br>
Given a system <span class="math inline">\(\dot{\mathbf{x}} = f(\mathbf{x})\)</span> and a fixed point <span class="math inline">\(\mathbf{x}^*\)</span>, the system near <span class="math inline">\(\mathbf{x}^*\)</span> is approximated by: <span class="math display">\[
\dot{\mathbf{x}} \approx J(\mathbf{x}^*)(\mathbf{x} - \mathbf{x}^*),
\]</span> where the <strong>Jacobian matrix</strong> <span class="math inline">\(J(\mathbf{x}^*)\)</span> is: <span class="math display">\[
J(\mathbf{x}^*) = \left[ \frac{\partial f_i}{\partial x_j}(\mathbf{x}^*) \right]_{i,j}.
\]</span></p>
</blockquote>
<p>This approximation turns the nonlinear system into a linear one locally, enabling the application of spectral methods. The <strong>eigenvalues</strong> of the Jacobian dictate how perturbations evolve:</p>
<ul>
<li>All eigenvalues with <strong>negative real parts</strong> → <strong>locally asymptotically stable</strong> (exponential convergence to equilibrium).</li>
<li>Any eigenvalue with a <strong>positive real part</strong> → <strong>locally unstable</strong>.</li>
<li>All eigenvalues with <strong>nonzero real parts</strong> → the fixed point is a <strong>hyperbolic steady state</strong>.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Theorem (Hartman–Grobman):</strong><br>
If <span class="math inline">\(J(\mathbf{x}^*)\)</span> has no eigenvalues with zero real part, the nonlinear system near <span class="math inline">\(\mathbf{x}^*\)</span> is <strong>topologically conjugate</strong> to its linearization. That is, it behaves qualitatively like the linearized system in a neighborhood of <span class="math inline">\(\mathbf{x}^*\)</span>.</p>
</blockquote>
<blockquote class="blockquote">
<p><strong>Example (Community Matrix in Ecology):</strong><br>
For a model such as <span class="math inline">\(\dot{\mathbf{x}} = \operatorname{diag}(\mathbf{x}) A \mathbf{x}\)</span>, with fixed point satisfying <span class="math inline">\(A \mathbf{x}^* = 0\)</span>, the Jacobian becomes: <span class="math display">\[
J(\mathbf{x}^*) = \operatorname{diag}(\mathbf{x}^*) A.
\]</span> This <strong>community matrix</strong> expresses how each population or strategy reacts to small changes in others.</p>
</blockquote>
<p>The Jacobian spectrum captures the local geometry of the vector field, but this geometry does not emerge in isolation. It reflects a projection of the system’s global structure, shaped by its interaction rules, constraints, and feedback topology. In this sense, local geometry does not determine the system—it merely expresses, in differential form at the fixed point, the localized imprint of the global architecture.</p>
<blockquote class="blockquote">
<p><strong>Example (Predator–Prey System):</strong><br>
In a Lotka–Volterra system, if <span class="math inline">\(J(\mathbf{x}^*)\)</span> has purely imaginary eigenvalues, the system exhibits <strong>neutral cycles</strong>.<br>
If eigenvalues have negative real parts, trajectories <strong>spiral back</strong> to equilibrium.</p>
</blockquote>
<p>In finance or economics, <strong>local stability</strong> is often interpreted as <strong>bounded response</strong> of prices, capital stocks, or returns. But such interpretations are frequently <strong>assumed</strong>, not derived from first principles.</p>
<p>For example:</p>
<ul>
<li>In dynamic asset pricing, if <strong>gross return</strong> <span class="math inline">\(R_t\)</span> is used, stability typically assumes <span class="math inline">\(0 &lt; R_t &lt; 1\)</span> (i.e., contraction).</li>
<li>When <strong>net return</strong> <span class="math inline">\(r_t\)</span> is used, the “stable” range becomes <span class="math inline">\(-1 &lt; r_t &lt; 1\)</span>.</li>
<li>These assumptions echo the convergence criteria of <strong>geometric series</strong>, though models rarely state this explicitly.</li>
</ul>
<p>In stochastic frameworks, such as intertemporal asset pricing, the <strong>Martingale Convergence Theorem</strong> is often invoked under a discounted summation condition:</p>
<p><span class="math display">\[
\mathbb{E}\left[\sum_{t=0}^\infty \beta^t R_t\right] &lt; \infty,
\]</span></p>
<p>This converges <strong>if and only if</strong> <span class="math inline">\(\beta R &lt; 1\)</span>, which is again a condition for the convergence of an infinite geometric series. It corresponds, in spectral terms, to requiring that the <strong>spectral radius</strong> of the return operator be <strong>less than one</strong>.</p>
<p>Thus, across frameworks:</p>
<ul>
<li><strong>Negative real eigenvalues</strong> (in continuous-time ODEs) imply contraction via exponential decay.</li>
<li><strong>Spectral radius &lt; 1</strong> (in discrete-time or stochastic models) ensures convergence through bounded iteration.</li>
<li><strong>Imaginary eigenvalues</strong> indicate <strong>cyclic</strong> or <strong>oscillatory</strong> local behavior.</li>
</ul>
<blockquote class="blockquote">
<p>Yet in mainstream economic models, these conditions are often treated as if <strong>structurally self-evident</strong>, when they are in fact <strong>mathematical assumptions</strong>—frequently unacknowledged and untested.<br>
Different parameterizations (e.g., gross vs.&nbsp;net returns) shift the meaning of “stability,” but this shift is rarely made explicit.</p>
</blockquote>
<p>What appears as “natural stability” is often a restatement of basic spectral convergence conditions. The deeper question is not whether the system is stable, but what structural mechanisms produce or undermine stability—and whether they correspond to economic reality or analytical convenience.</p>
<p>Local linearization thus acts as a <strong>microscope</strong>: it allows us to classify equilibrium behavior based on <strong>local differential structure</strong>, even if the <strong>global landscape</strong> remains nonlinear and complex. Local stability is not a measure of global optimality. It is a statement about <strong>local resilience</strong>, shaped by the system’s internal feedback at that point.</p>
</section>
<section id="replicator-dynamics-and-nash-equilibrium" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="replicator-dynamics-and-nash-equilibrium"><span class="header-section-number">6</span> Replicator Dynamics and Nash Equilibrium</h2>
<p>Replicator dynamics is a canonical framework for modeling how the relative shares of competing strategies evolve over time under selection pressure. The dynamics are defined on the <strong>unit simplex</strong> <span class="math inline">\(\Delta^{n-1} = \{ \mathbf{x} \in \mathbb{R}^n \mid \sum x_i = 1,\, x_i \ge 0 \}\)</span>, which represents normalized population shares, probability distributions, or strategy proportions. The simplex is a <strong>smooth manifold with boundary</strong>, meaning that trajectories are constrained not only by dimensionality but also by the non-negativity and summation conditions.</p>
<p>Let <span class="math inline">\(A\)</span> be an <span class="math inline">\(n \times n\)</span> payoff matrix, and let <span class="math inline">\(\mathbf{x}(t) \in \Delta^{n-1}\)</span> be the population state. The <strong>replicator equation</strong> is given by:</p>
<p><span class="math display">\[
\dot{x}_i = x_i\left[(A\mathbf{x})_i - \mathbf{x}^\top A \mathbf{x}\right], \quad i = 1, \dots, n.
\]</span></p>
<p>This describes a <strong>nonlinear system</strong> where each type grows or declines based on its <strong>relative performance</strong> compared to the population average. The term <span class="math inline">\((A\mathbf{x})_i\)</span> represents the fitness or payoff of type <span class="math inline">\(i\)</span>, and <span class="math inline">\(\mathbf{x}^\top A \mathbf{x}\)</span> is the average fitness.</p>
<ul>
<li>If <span class="math inline">\((A\mathbf{x})_i &gt; \mathbf{x}^\top A \mathbf{x}\)</span>, then <span class="math inline">\(x_i\)</span> increases.</li>
<li>If <span class="math inline">\((A\mathbf{x})_i &lt; \mathbf{x}^\top A \mathbf{x}\)</span>, then <span class="math inline">\(x_i\)</span> decreases.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Remark:</strong> The geometry of the simplex ensures that the total sum <span class="math inline">\(\sum x_i = 1\)</span> is preserved over time. This is crucial—it implies that the vector field is always <strong>tangential to the simplex</strong>, never pointing outward or inward, thus reinforcing the idea of a <strong>closed system</strong> on a constrained manifold.</p>
</blockquote>
<p>Every <strong>Nash equilibrium</strong> <span class="math inline">\(\mathbf{x}^*\)</span> of the game defined by payoff matrix <span class="math inline">\(A\)</span> is a <strong>fixed point</strong> of the replicator dynamics. This means:</p>
<p><span class="math display">\[
x_i^* &gt; 0 \Rightarrow (A\mathbf{x}^*)_i = \mathbf{x}^{*\top} A \mathbf{x}^*, \quad \forall i.
\]</span></p>
<p>At such a point, no type has an incentive to grow or shrink—each performs identically in expectation, relative to the population average.</p>
<p>These fixed points reflect <strong>internal compatibility</strong>, not global optimality. Even suboptimal strategies can persist if they are structurally embedded or protected by the system’s interaction structure.</p>
<p>To analyze behavior near such equilibria, we compute the <strong>Jacobian matrix</strong> <span class="math inline">\(J(\mathbf{x}^*)\)</span> of the replicator dynamics. If none of its eigenvalues lie on the imaginary axis—i.e., if <span class="math inline">\(\mathbf{x}^*\)</span> is a <strong>hyperbolic steady state</strong>—then the local behavior is governed by the linearized system.</p>
<p>This is precisely where we invoke the Hartman–Grobman theorem (as previously discussed): local trajectories behave qualitatively like those of the linearized system near the fixed point.</p>
<ul>
<li>If all eigenvalues have <strong>negative real parts</strong>, the Nash equilibrium is <strong>locally asymptotically stable</strong>.</li>
<li>If any eigenvalues have <strong>positive real parts</strong>, the point is <strong>locally unstable</strong>.</li>
<li>A mixture of signs yields <strong>saddle-type behavior</strong>.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Example (3-Strategy Game):</strong><br>
In a rock–paper–scissors setup with equal payoffs, the interior Nash equilibrium is <strong>neutrally stable</strong>: the Jacobian has purely imaginary eigenvalues, resulting in <strong>closed orbits</strong>. However, small deformations to the payoff structure can lead to <strong>damping</strong> (attracting focus) or <strong>amplifying spirals</strong> (repelling cycles), depending on the spectral shift.</p>
</blockquote>
<p><strong>Boundary behavior:</strong> If the system approaches the boundary of the simplex, such as when one type goes extinct (<span class="math inline">\(x_i \to 0\)</span>), then the dynamics reduce in dimension and may settle into <strong>absorbing states</strong>—a hallmark of <strong>path dependence</strong> and structural lock-in, often observed in socioeconomic systems.</p>
<p>There exists a formal topological equivalence between replicator dynamics and Lotka–Volterra systems. Specifically, the 3-dimensional replicator system:</p>
<p><span class="math display">\[
\dot{x}_i = x_i\left[(A\mathbf{x})_i - \mathbf{x}^\top A \mathbf{x}\right], \quad \sum x_i = 1,
\]</span></p>
<p>is <strong>diffeomorphic</strong> to a 2-dimensional generalized Lotka–Volterra system via coordinate transformations that map the simplex <span class="math inline">\(\Delta^{n-1}\)</span> to an open subset of <span class="math inline">\(\mathbb{R}^{n-1}\)</span> (cf.&nbsp;Hofbauer and Sigmund, 1998).</p>
<p>This correspondence highlights a shared logic of <strong>nonlinear self-interaction</strong>, <strong>feedback amplification</strong>, and <strong>constrained growth</strong> across domains:</p>
<ul>
<li>In <strong>ecology</strong>, predator-prey cycles arise without optimization.</li>
<li>In <strong>economics</strong>, inefficient strategies or norms may persist by structural embedding.</li>
<li>In <strong>institutional dynamics</strong>, dominant behaviors may lock in without being globally optimal.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Takeaway:</strong><br>
A Nash equilibrium in replicator dynamics is not merely a rest point of strategic interaction. It is often a <strong>hyperbolic fixed point</strong> shaped and stabilized by the system’s internal structure.<br>
Its stability reflects not only the local geometry but the <strong>global constraints and feedback architecture</strong> of the system.</p>
</blockquote>
</section>
<section id="perronfrobenius-and-dominant-states" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="perronfrobenius-and-dominant-states"><span class="header-section-number">7</span> Perron–Frobenius and Dominant States</h2>
<p>In both <strong>discrete-time Markov chains</strong> and <strong>linear continuous-time ODE systems</strong>, the question of long-run behavior often reduces to identifying <strong>dominant structures</strong>—not necessarily the best performing, but the most structurally entrenched. These are the states or directions that persist, absorb, and eventually dominate the system’s trajectory.</p>
<p>Let us begin with the discrete-time case.</p>
<section id="discrete-time-markov-chains-and-invariant-distributions" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="discrete-time-markov-chains-and-invariant-distributions"><span class="header-section-number">7.1</span> Discrete-time: Markov Chains and Invariant Distributions</h3>
<p>Consider a finite-state Markov chain with transition matrix <span class="math inline">\(P \in \mathbb{R}^{n \times n}\)</span> satisfying:</p>
<ul>
<li><span class="math inline">\(P_{ij} \ge 0\)</span> for all <span class="math inline">\(i,j\)</span> (non-negativity),</li>
<li><span class="math inline">\(\sum_j P_{ij} = 1\)</span> for all <span class="math inline">\(i\)</span> (row stochasticity).</li>
</ul>
<p>This defines an evolution of probability distributions over <span class="math inline">\(n\)</span> states:</p>
<p><span class="math display">\[
\mathbf{x}_{t+1} = P \mathbf{x}_t.
\]</span></p>
<p>The long-run behavior is governed by the <strong>invariant distribution</strong> <span class="math inline">\(\boldsymbol{\pi}\)</span> satisfying:</p>
<p><span class="math display">\[
P \boldsymbol{\pi} = \boldsymbol{\pi}.
\]</span></p>
<p>Under the mild condition that <span class="math inline">\(P\)</span> is <strong>irreducible</strong> and <strong>aperiodic</strong>, the Perron–Frobenius theorem guarantees the existence and uniqueness of a strictly positive invariant vector <span class="math inline">\(\boldsymbol{\pi} &gt; 0\)</span>. Regardless of the initial condition <span class="math inline">\(\mathbf{x}_0\)</span>, the system converges:</p>
<p><span class="math display">\[
\lim_{t \to \infty} \mathbf{x}_t = \boldsymbol{\pi}.
\]</span></p>
<blockquote class="blockquote">
<p><strong>Theorem (Perron–Frobenius, stochastic form):</strong><br>
For an irreducible stochastic matrix <span class="math inline">\(P\)</span>, the largest eigenvalue is <span class="math inline">\(\lambda_1 = 1\)</span>, with a unique strictly positive eigenvector <span class="math inline">\(\boldsymbol{\pi}\)</span> satisfying <span class="math inline">\(P\boldsymbol{\pi} = \boldsymbol{\pi}\)</span>. All other eigenvalues satisfy <span class="math inline">\(|\lambda_i| &lt; 1\)</span>.</p>
</blockquote>
<p>This invariant distribution encodes the <strong>long-run frequency</strong> of each state—not because those states are inherently superior, but because they are <strong>structurally reinforced</strong>.</p>
</section>
<section id="continuous-time-linear-odes-and-eigenvector-dominance" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="continuous-time-linear-odes-and-eigenvector-dominance"><span class="header-section-number">7.2</span> Continuous-Time: Linear ODEs and Eigenvector Dominance</h3>
<p>Now consider a linear continuous-time system:</p>
<p><span class="math display">\[
\dot{\mathbf{x}} = A \mathbf{x},
\]</span></p>
<p>where <span class="math inline">\(A \in \mathbb{R}^{n \times n}\)</span> is a non-negative, irreducible matrix. The solution is given by:</p>
<p><span class="math display">\[
\mathbf{x}(t) = e^{At} \mathbf{x}_0.
\]</span></p>
<p>In this setting, Perron–Frobenius theory again applies: the matrix <span class="math inline">\(A\)</span> has a <strong>dominant eigenvalue</strong> <span class="math inline">\(\lambda_1 \in \mathbb{R}\)</span> with the largest real part, and the corresponding eigenvector <span class="math inline">\(\mathbf{v}_1 &gt; 0\)</span> determines the direction of long-run growth:</p>
<p><span class="math display">\[
\lim_{t \to \infty} \frac{\mathbf{x}(t)}{\|\mathbf{x}(t)\|} = \frac{\mathbf{v}_1}{\|\mathbf{v}_1\|}, \quad \text{assuming } \mathbf{x}_0 \not\perp \mathbf{v}_1.
\]</span></p>
<p>That is, over time the trajectory aligns with <span class="math inline">\(\mathbf{v}_1\)</span>, even if initial conditions pointed elsewhere. All other modes decay (or oscillate) relative to this dominant direction.</p>
<blockquote class="blockquote">
<p><strong>Spectral Dominance Principle:</strong><br>
The eigenvector associated with the largest eigenvalue <strong>absorbs and aligns</strong> the system’s trajectory over time. It defines not just equilibrium, but the <strong>structural tendency</strong> of the system.</p>
</blockquote>
</section>
<section id="structural-interpretation" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="structural-interpretation"><span class="header-section-number">7.3</span> Structural Interpretation</h3>
<p>In both stochastic and linear dynamical settings, dominance may not arise from merit—it may emerges from <strong>network topology</strong>, <strong>feedback structure</strong>, and <strong>reinforcement logic</strong>. This has profound implications for economic and institutional systems.</p>
<blockquote class="blockquote">
<p><strong>Example (Capital Allocation):</strong><br>
Suppose a set of firms or sectors reallocates capital over time according to a stable Markov transition matrix <span class="math inline">\(P\)</span>. Even if capital initially diffuses broadly, over time it concentrates in the states corresponding to high values in the <strong>Perron vector</strong> <span class="math inline">\(\boldsymbol{\pi}\)</span>. These are not necessarily the most productive or innovative firms—they are the ones with <strong>persistent inflows</strong>, <strong>self-reinforcement</strong>, or <strong>structural centrality</strong>.</p>
</blockquote>
<p>This reveals a critical insight:</p>
<blockquote class="blockquote">
<p>Persistence is not always driven by contribution. In many systems, it is driven by <strong>connectivity</strong>—a measure of how embedded a node is in the system’s transition logic.</p>
</blockquote>
<p>This applies equally in:</p>
<ul>
<li><strong>Finance</strong> (e.g., asset flows concentrating in TBTF institutions),</li>
<li><strong>Social networks</strong> (e.g., attention concentrating on central nodes),</li>
<li><strong>Political systems</strong> (e.g., power concentrating in deeply institutionalized actors).</li>
</ul>
<p>The Perron eigenvector is often invisible in short-run observations. It emerges over time—just as compound interest, reputation, or market share slowly diverge. It represents a kind of <strong>topological power</strong>: a state’s ability to maintain and attract flow simply by virtue of its <strong>location in the interaction structure</strong>. In spectral graph theory, centrality measures like <strong>PageRank</strong> are nothing but Perron vectors of stochastic adjacency matrices. The same may apply here—dominance is the outcome of <strong>structural centrality</strong>, not performance in any exogenous sense.</p>
<p>The Perron–Frobenius theorem is not merely an algebraic artifact—it provides a <strong>structural lens</strong> for understanding long-run dominance:</p>
<ul>
<li>In <strong>Markov chains</strong>, the invariant distribution reflects probabilistic entrenchment.</li>
<li>In <strong>linear ODEs</strong>, the dominant eigenvector determines trajectory alignment.</li>
<li>In <strong>capital systems</strong>, the dominant state absorbs wealth flows without necessarily earning them.</li>
</ul>
<p>What persists is not necessarily what performs—it is what <strong>connects</strong>, <strong>absorbs</strong>, and <strong>aligns</strong>. Dominance in closed systems is often a function of <strong>topological position</strong>, not marginal productivity.</p>
<p>This sets the stage for the next section: to what extent do such structures reflect <strong>selection under constraint</strong> versus <strong>selection by innovation</strong>? And how can we distinguish <strong>structural lock-in</strong> from true competitive superiority?</p>
</section>
</section>
<section id="selection-under-constraint-in-quasi-closed-systems" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="selection-under-constraint-in-quasi-closed-systems"><span class="header-section-number">8</span> Selection under Constraint in Quasi-Closed Systems</h2>
<p>Not all persistence is evidence of superior performance. In many empirical systems, especially economic and institutional ones, long-run survival emerges not through innovation, but through <strong>structural embedding</strong>. These systems function as if they were <strong>closed</strong>, even when occasional shocks or entries occur. We refer to such regimes as <strong>quasi-closed systems</strong>: systems where the underlying architecture evolves slowly, and where structural inertia dominates strategic choice.</p>
<p>Quasi-closed systems share several defining features. First, the <strong>entry and exit of agents</strong> is infrequent; new firms, products, or individuals rarely alter the overall configuration. Second, the <strong>transition structure</strong>—how states evolve or shift—remains relatively stable over time. Third, the <strong>definition of identities</strong> (such as firm types, classes, or asset categories) tends to be fixed ex ante, with little endogenous mutation. Finally, outcome divergence arises primarily through <strong>growth differentials</strong>, not fundamental innovation. Agents do not win because they change the game; they win because they are positioned advantageously within the existing one.</p>
<p>This is not evolutionary competition. It is <strong>fixation without adaptation</strong>—a dynamic in which the system converges toward a stratified hierarchy of outcomes, even in the absence of meaningful differentiation in performance.</p>
<p>Conventional economic narratives typically invoke a logic of <strong>selection by merit</strong>: those who persist must be those who perform better. But in quasi-closed systems, <strong>structural position outweighs competitive edge</strong>. Survival and dominance reflect where an agent begins, not necessarily how they behave. The analogy often drawn from biology—“survival of the fittest”—is more Spencerian than Darwinian. Spencer’s framework implies that survival evidences superiority. Darwin’s actual theory emphasized <strong>contextual fit</strong>: species survive when they are <strong>viable within given constraints</strong>, not because they are globally optimal. In this distinction lies a profound shift in explanatory logic: from <strong>performance-based selection</strong> to <strong>constraint-based persistence</strong>.</p>
<p>Economic systems often display the same structural logic. Capital tends to concentrate not due to constant outperformance, but due to <strong>preferential attachment</strong>: once capital accumulates disproportionately, future inflows tend to reinforce this advantage. Even in the absence of marginal superiority, historical position becomes a gravitational center. As shown in <strong>Perron–Frobenius-type dynamics</strong>, long-run dominance is determined not by productivity, but by <strong>connectivity within the transition structure</strong>—topological advantage, not economic value, dictates persistence.</p>
<p>This insight reveals why closed and quasi-closed models are so useful: they allow us to study how <strong>structure itself generates inequality</strong>. Within these frameworks, we can formally identify <strong>fixed points</strong>, <strong>hyperbolic steady states</strong>, and <strong>invariant sets</strong>. We can trace dominance to the <strong>eigenstructure of interaction matrices</strong>. We can classify local stability, and project global path dependence. But this analytical clarity comes with a cost. By design, such models <strong>exclude structural mutation</strong>. They assume that the architecture of the system is fixed—even as it generates asymmetry.</p>
<p>Real-world economic history, however, is shaped as much by ruptures as by reinforcements. New technologies, regulatory collapses, and institutional realignments frequently destroy the closed logic of existing systems. These events cannot be interpreted as small shocks; they are <strong>structural mutations</strong>. When automation displaces labor, when digital platforms rewire capital flows, when financial regimes collapse—the topology of the system changes. These are not deviations within a closed phase space. They mark the birth of a new one.</p>
<p>The implication is clear. <strong>Persistence is not proof of merit</strong>. It is often the artifact of <strong>selection under structural constraint</strong>, reinforced by slowly evolving or frozen interaction rules. Such systems reveal how inequality can emerge and endure even when performance differences are minimal or absent. But they cannot explain how inequality transforms—how new forms emerge, how old structures collapse, how systems adapt or fail to adapt when their internal logics are broken.</p>
<p>To understand these transitions, we must move beyond the closed framework. The next chapter begins here: with the breakage of internal feedback loops, the introduction of <strong>non-conservative flows</strong>, and the rise of <strong>irreversible dynamics</strong>. In this new setting, <strong>structure itself becomes endogenous</strong>—subject to mutation, decay, and displacement. Closed systems explain how inequality persists; open systems must explain how inequality evolves.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 · GITSAM · All rights reserved</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@primenumbersam">
      <i class="bi bi-youtube" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://instagram.com/primenumbersam">
      <i class="bi bi-instagram" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://laroe.co.kr/">
      <i class="bi bi-shop" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>